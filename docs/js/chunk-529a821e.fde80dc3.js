(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-529a821e"],{"057f":function(e,t,i){var n=i("fc6a"),r=i("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return r(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?l(e):r(n(e))}},"159b":function(e,t,i){var n=i("da84"),r=i("fdbc"),o=i("17c2"),a=i("9112");for(var l in r){var s=n[l],c=s&&s.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(d){c.forEach=o}}},"17c2":function(e,t,i){"use strict";var n=i("b727").forEach,r=i("a640"),o=r("forEach");e.exports=o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"4de4":function(e,t,i){"use strict";var n=i("23e7"),r=i("b727").filter,o=i("1dde"),a=o("filter");n({target:"Array",proto:!0,forced:!a},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("b64b"),i("a4d3"),i("4de4"),i("e439"),i("159b"),i("dbb4");function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}},"746f":function(e,t,i){var n=i("428f"),r=i("5135"),o=i("e538"),a=i("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});r(t,e)||a(t,e,{value:o.f(e)})}},"773a":function(e,t,i){"use strict";i("f6da")},"820e":function(e,t,i){},8988:function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return l}));i("99af");var n=i("da71"),r=i("9067"),o=function(e){return Object(r["a"])({method:"post",url:n["a"]+"/sysmgmt/role/page",data:e})},a=function(e,t){return Object(r["a"])({method:"put",url:"".concat(n["a"],"/sysmgmt/role/update/").concat(t),data:e})},l=function(e){return Object(r["a"])({method:"post",url:n["a"]+"/sysmgmt/role/create",data:e})},s=function(e){return Object(r["a"])({method:"DELETE",url:n["a"]+"/sysmgmt/role/delete/"+e,data:e})}},"9eee":function(e,t,i){"use strict";i("820e")},a434:function(e,t,i){"use strict";var n=i("23e7"),r=i("23cb"),o=i("a691"),a=i("50c4"),l=i("7b0b"),s=i("65f0"),c=i("8418"),d=i("1dde"),u=d("splice"),f=Math.max,p=Math.min,b=9007199254740991,h="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var i,n,d,u,m,g,y=l(this),v=a(y.length),O=r(e,v),w=arguments.length;if(0===w?i=n=0:1===w?(i=0,n=v-O):(i=w-2,n=p(f(o(t),0),v-O)),v+i-n>b)throw TypeError(h);for(d=s(y,n),u=0;u<n;u++)m=O+u,m in y&&c(d,u,y[m]);if(d.length=n,i<n){for(u=O;u<v-n;u++)m=u+n,g=u+i,m in y?y[g]=y[m]:delete y[g];for(u=v;u>v-n+i;u--)delete y[u-1]}else if(i>n)for(u=v-n;u>O;u--)m=u+n-1,g=u+i-1,m in y?y[g]=y[m]:delete y[g];for(u=0;u<i;u++)y[u+O]=arguments[u+2];return y.length=v-n+i,d}})},a4d3:function(e,t,i){"use strict";var n=i("23e7"),r=i("da84"),o=i("d066"),a=i("c430"),l=i("83ab"),s=i("4930"),c=i("fdbf"),d=i("d039"),u=i("5135"),f=i("e8b5"),p=i("861d"),b=i("825a"),h=i("7b0b"),m=i("fc6a"),g=i("c04e"),y=i("5c6c"),v=i("7c73"),O=i("df75"),w=i("241c"),E=i("057f"),F=i("7418"),k=i("06cf"),x=i("9bf2"),j=i("d1e7"),S=i("9112"),C=i("6eeb"),D=i("5692"),_=i("f772"),P=i("d012"),R=i("90e3"),z=i("b622"),$=i("e538"),q=i("746f"),Z=i("d44e"),N=i("69f3"),T=i("b727").forEach,L=_("hidden"),M="Symbol",V="prototype",A=z("toPrimitive"),J=N.set,I=N.getterFor(M),B=Object[V],Q=r.Symbol,W=o("JSON","stringify"),G=k.f,H=x.f,K=E.f,U=j.f,X=D("symbols"),Y=D("op-symbols"),ee=D("string-to-symbol-registry"),te=D("symbol-to-string-registry"),ie=D("wks"),ne=r.QObject,re=!ne||!ne[V]||!ne[V].findChild,oe=l&&d((function(){return 7!=v(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(e,t,i){var n=G(B,t);n&&delete B[t],H(e,t,i),n&&e!==B&&H(B,t,n)}:H,ae=function(e,t){var i=X[e]=v(Q[V]);return J(i,{type:M,tag:e,description:t}),l||(i.description=t),i},le=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Q},se=function(e,t,i){e===B&&se(Y,t,i),b(e);var n=g(t,!0);return b(i),u(X,n)?(i.enumerable?(u(e,L)&&e[L][n]&&(e[L][n]=!1),i=v(i,{enumerable:y(0,!1)})):(u(e,L)||H(e,L,y(1,{})),e[L][n]=!0),oe(e,n,i)):H(e,n,i)},ce=function(e,t){b(e);var i=m(t),n=O(i).concat(be(i));return T(n,(function(t){l&&!ue.call(i,t)||se(e,t,i[t])})),e},de=function(e,t){return void 0===t?v(e):ce(v(e),t)},ue=function(e){var t=g(e,!0),i=U.call(this,t);return!(this===B&&u(X,t)&&!u(Y,t))&&(!(i||!u(this,t)||!u(X,t)||u(this,L)&&this[L][t])||i)},fe=function(e,t){var i=m(e),n=g(t,!0);if(i!==B||!u(X,n)||u(Y,n)){var r=G(i,n);return!r||!u(X,n)||u(i,L)&&i[L][n]||(r.enumerable=!0),r}},pe=function(e){var t=K(m(e)),i=[];return T(t,(function(e){u(X,e)||u(P,e)||i.push(e)})),i},be=function(e){var t=e===B,i=K(t?Y:m(e)),n=[];return T(i,(function(e){!u(X,e)||t&&!u(B,e)||n.push(X[e])})),n};if(s||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),i=function(e){this===B&&i.call(Y,e),u(this,L)&&u(this[L],t)&&(this[L][t]=!1),oe(this,t,y(1,e))};return l&&re&&oe(B,t,{configurable:!0,set:i}),ae(t,e)},C(Q[V],"toString",(function(){return I(this).tag})),C(Q,"withoutSetter",(function(e){return ae(R(e),e)})),j.f=ue,x.f=se,k.f=fe,w.f=E.f=pe,F.f=be,$.f=function(e){return ae(z(e),e)},l&&(H(Q[V],"description",{configurable:!0,get:function(){return I(this).description}}),a||C(B,"propertyIsEnumerable",ue,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Q}),T(O(ie),(function(e){q(e)})),n({target:M,stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var i=Q(t);return ee[t]=i,te[i]=t,i},keyFor:function(e){if(!le(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),n({target:"Object",stat:!0,forced:!s,sham:!l},{create:de,defineProperty:se,defineProperties:ce,getOwnPropertyDescriptor:fe}),n({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pe,getOwnPropertySymbols:be}),n({target:"Object",stat:!0,forced:d((function(){F.f(1)}))},{getOwnPropertySymbols:function(e){return F.f(h(e))}}),W){var he=!s||d((function(){var e=Q();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}));n({target:"JSON",stat:!0,forced:he},{stringify:function(e,t,i){var n,r=[e],o=1;while(arguments.length>o)r.push(arguments[o++]);if(n=t,(p(t)||void 0!==e)&&!le(e))return f(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!le(t))return t}),r[1]=t,W.apply(null,r)}})}Q[V][A]||S(Q[V],A,Q[V].valueOf),Z(Q,M),P[L]=!0},a640:function(e,t,i){"use strict";var n=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&n((function(){i.call(null,t||function(){throw 1},1)}))}},b727:function(e,t,i){var n=i("0366"),r=i("44ad"),o=i("7b0b"),a=i("50c4"),l=i("65f0"),s=[].push,c=function(e){var t=1==e,i=2==e,c=3==e,d=4==e,u=6==e,f=7==e,p=5==e||u;return function(b,h,m,g){for(var y,v,O=o(b),w=r(O),E=n(h,m,3),F=a(w.length),k=0,x=g||l,j=t?x(b,F):i||f?x(b,0):void 0;F>k;k++)if((p||k in w)&&(y=w[k],v=E(y,k,O),e))if(t)j[k]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return k;case 2:s.call(j,y)}else switch(e){case 4:return!1;case 7:s.call(j,y)}return u?-1:c||d?d:j}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},dbb4:function(e,t,i){var n=i("23e7"),r=i("83ab"),o=i("56ef"),a=i("fc6a"),l=i("06cf"),s=i("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){var t,i,n=a(e),r=l.f,c=o(n),d={},u=0;while(c.length>u)i=r(n,t=c[u++]),void 0!==i&&s(d,t,i);return d}})},de9d:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"roles_content"},[i("el-card",[i("el-form",{ref:"queryRoleRef",staticClass:"demo-form-inline",attrs:{inline:!0,size:"mini","label-position":"right","label-width":"120px",model:e.formOptions}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"角色编码"}},[i("el-input",{attrs:{placeholder:"角色编码"},model:{value:e.formOptions.name,callback:function(t){e.$set(e.formOptions,"name",t)},expression:"formOptions.name"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"角色名称"}},[i("el-input",{attrs:{placeholder:"角色名称"},model:{value:e.formOptions.nameZh,callback:function(t){e.$set(e.formOptions,"nameZh",t)},expression:"formOptions.nameZh"}})],1)],1),i("el-col",{class:Object.keys(e.formOptions).length%3===0?"nextline_action_button_content":Object.keys(e.formOptions).length%3===1?"inline2_action_button_content":"inline1_action_button_content",attrs:{span:8}},[i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.queryRoles}},[e._v("查询")]),i("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.addClick}},[e._v("新增")])],1)],1)],1)],1)],1),i("el-card",[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",border:"",stripe:"",size:"mini",height:"380"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",fixed:""}}),i("el-table-column",{attrs:{label:"序号",type:"index",width:"55",fixed:""}}),i("el-table-column",{attrs:{label:"角色编码",prop:"name","min-width":"120",fixed:""}}),i("el-table-column",{attrs:{label:"角色名称",prop:"nameZh","min-width":"120",fixed:""}}),i("el-table-column",{attrs:{label:"操作","min-width":"120",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,r=t.$index;return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.onEditRole(n)}}},[e._v("编辑")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteMenu(n,r)}}},[e._v(" 删除 ")])]}}])})],1),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":e.paginationOptions.pageNo,"page-sizes":e.paginationOptions.pageSizes,"page-size":e.paginationOptions.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.paginationOptions.total,size:"mini"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),i("role-edit-dialog",{ref:"roleEditDialogRef",attrs:{toChild:e.list}})],1)},r=[],o=i("5530"),a=(i("a434"),i("8988")),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:e.toChild,visible:e.dialogFormVisible,"lock-scroll":""},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeDialog}},[i("div",{staticClass:"register_form_main"},[i("el-row",{staticStyle:{height:"100%"}},[i("el-col",{attrs:{span:20}},[i("div",{staticClass:"grid-content-right"},[i("el-form",{ref:"userEditRef",attrs:{model:e.userEditForm,rules:e.userEditFormRules,size:"mini"}},[i("el-form-item",{attrs:{label:"角色编码",prop:"name"}},[i("el-input",{attrs:{placeholder:"角色编码"},model:{value:e.userEditForm.name,callback:function(t){e.$set(e.userEditForm,"name",t)},expression:"userEditForm.name"}},[i("i",{staticClass:"el-icon-user",attrs:{slot:"prepend"},slot:"prepend"})])],1),i("el-form-item",{attrs:{label:"角色名称",prop:"nameZh"}},[i("el-input",{attrs:{type:"text",placeholder:"角色名称"},model:{value:e.userEditForm.nameZh,callback:function(t){e.$set(e.userEditForm,"nameZh",t)},expression:"userEditForm.nameZh"}},[i("i",{staticClass:"el-icon-magic-stick",attrs:{slot:"prepend"},slot:"prepend"})])],1),i("span",[e._v("角色权限配置")]),i("div",{staticClass:"configuration"},[i("div",{staticClass:"sbox"},[i("span",[e._v("数据权限")]),i("el-tree",{attrs:{data:e.data1,"show-checkbox":"","node-key":"id","default-expanded-keys":[1,2,3],"default-checked-keys":[0],props:e.defaultProps}})],1),i("div",{staticClass:"sbox"},[i("span",[e._v("菜单权限")]),i("div",{staticClass:"menubox"},[i("el-tree",{attrs:{data:e.data2,"show-checkbox":"","node-key":"id","default-expanded-keys":[1,2,3,4],"default-checked-keys":[0],props:e.defaultProps}}),i("el-tree",{attrs:{data:e.data3,"show-checkbox":"","node-key":"id","default-expanded-keys":[1,2,3,4],"default-checked-keys":[0],props:e.defaultProps}}),i("el-tree",{attrs:{data:e.data4,"show-checkbox":"","node-key":"id","default-expanded-keys":[1,2,3,4],"default-checked-keys":[0],props:e.defaultProps}})],1)])])],1)],1)])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.dialogClose}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onCertain}},[e._v("保存")])],1)])],1)},s=[],c=(i("159b"),i("b64b"),{props:{toChild:String},data:function(){return{data1:[{id:1,label:"ALL"},{id:2,label:"业务部",children:[{id:4,label:"孵化使能部",children:[{id:5,label:"合同管理"},{id:6,label:"平台管理"}]}]},{id:3,label:"零售部"}],data2:[{id:1,label:"系统管理",children:[{id:2,label:"用户管理",children:[{id:5,label:"新增"},{id:6,label:"编辑"},{id:7,label:"查看"},{id:8,label:"角色配置"},{id:9,label:"停用启用"}]},{id:3,label:"角色管理",children:[{id:10,label:"新增"},{id:11,label:"编辑"},{id:12,label:"查看"},{id:13,label:"删除"}]},{id:4,label:"地域管理",children:[{id:14,label:"新增"},{id:15,label:"编辑"},{id:16,label:"查看"},{id:17,label:"删除"}]}]}],data3:[{id:1,label:"需求管理",children:[{id:2,label:"客户管理",children:[{id:5,label:"新增"},{id:6,label:"编辑"},{id:7,label:"查看"},{id:8,label:"删除"}]},{id:3,label:"接口人管理",children:[{id:9,label:"新增"},{id:10,label:"编辑"},{id:11,label:"查看"},{id:12,label:"删除"}]},{id:4,label:"项目管理",children:[{id:13,label:"新增"},{id:14,label:"编辑"},{id:15,label:"查看"},{id:16,label:"删除"}]},{id:5,label:"岗位管理",children:[{id:17,label:"新增"},{id:18,label:"编辑"},{id:19,label:"查看"},{id:20,label:"删除"}]}]}],data4:[{id:1,label:"员工管理",children:[{id:2,label:"员工信息",children:[{id:5,label:"新增"},{id:6,label:"编辑"},{id:7,label:"查看"},{id:8,label:"角色配置"},{id:9,label:"停用启用"}]},{id:3,label:"ALL"}]}],defaultProps:{children:"children",label:"label"},dialogFormVisible:!1,fileType:{fileType:0},nowIndex:-1,userEditForm:{name:"",nameZh:""},initFormData:{},userEditFormRules:{name:[{required:!0,message:"请输入角色编码",trigger:["blur","change"]},{min:1,max:100,message:"用户名长度在 3 到 10 个字符",trigger:"blur"}],nameZh:[{required:!0,message:"请填写角色名称",trigger:["blur","change"]},{min:1,max:100,message:"用户名长度在 3 到 10 个字符",trigger:"blur"}]}}},methods:{openDialog:function(e){var t=this;console.log(this.userEditForm,"001001"),this.dialogFormVisible=!0,e?(this.initFormData=e,this.$nextTick((function(){t.initForm(e)}))):console.log("我是新增")},initForm:function(e){var t=this;Object.keys(this.userEditForm).forEach((function(i){t.userEditForm[i]=e[i]?e[i]:null}))},closeDialog:function(){this.resetFormData(),this.resetForm("userEditRef")},dialogClose:function(){this.dialogFormVisible=!1,console.log(this.userEditForm,"取消231取消3131")},resetForm:function(e){this.$refs[e].resetFields(),this.initForm(this.userEditForm)},resetFormData:function(){this.ifLogin=!0},onCertain:function(){var e=this;this.initFormData.id?(this.userEditForm.id=this.initFormData.id,this.initFormData=this.userEditForm,console.log(this.userEditForm,"userEditFormuserEditForm123"),console.log(this.userEditForm.id,this.userEditForm,"this.initFormData.id"),this.$refs["userEditRef"].validate((function(t){if(console.log(t,"修改的valid"),!t)return!1;Object(a["d"])(e.userEditForm,e.userEditForm.id).then((function(t){console.log(t,"res11111"),t&&t.code&&"00000"===t.code&&(e.$message.success("修改成功！"),e.dialogClose(),console.log("修改成功！"),e.$parent.queryRoles())}))}))):(console.log("增加了..."),this.$refs["userEditRef"].validate((function(t){if(console.log(t,"增加了的valid"),!t)return!1;Object(a["a"])(e.userEditForm,e.userEditForm.id).then((function(t){console.log(t,"增加了...res11111"),t&&t.code&&"00000"===t.code&&(e.dialogClose(),console.log("增加成功！"),e.$parent.queryRoles())}))})))}}}),d=c,u=(i("773a"),i("2877")),f=Object(u["a"])(d,l,s,!1,null,"4b545436",null),p=f.exports,b={components:{RoleEditDialog:p},data:function(){return{list:"",formOptions:{name:"",nameZh:""},tableData:[],paginationOptions:{pageNo:1,pageSizes:[10,20,30,50,100],pageSize:10,layout:"total, sizes, prev, pager, next, jumper",total:0}}},mounted:function(){this.queryRoles()},methods:{queryRoles:function(){var e=this;this.$refs["queryRoleRef"].validate((function(t){if(!t)return!1;var i={records:[Object(o["a"])({},e.formOptions)]};i.current=e.paginationOptions.pageNo,i.size=e.paginationOptions.pageSize,console.log(i,"data---------"),Object(a["c"])(i).then((function(t){console.log(t,"res++++++++++"),t&&t.code&&"00000"===t.code&&(e.resetForm("queryRoleRef"),e.tableData=t.data.records,e.paginationOptions.total=t.data.total)}))}))},deleteMenu:function(e,t){var i=this;this.$alert("此操作将永久删除该文件, 是否继续?","删除",{confirmButtonText:"确定",type:"warning"}).then((function(){i.tableData.splice(t,1),Object(a["b"])(e.id).then((function(e){if(console.log(e,"点击确认，发起后台请求，删除"),"00000"==e.code)return i.$message({type:"success",message:"删除成功!"});i.$message({type:"success",message:"删除失败!"})}))})).catch((function(){i.$message({type:"info",message:"已取消删除"})}))},addClick:function(){this.$refs.roleEditDialogRef.openDialog(),this.list="添加",console.log("我要添加")},onEditRole:function(e){this.$refs.roleEditDialogRef.openDialog(e),this.list="编辑",console.log("编辑",e,e.id)},resetForm:function(e){this.$refs[e].resetFields()},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){this.paginationOptions.pageSize=e,this.queryRoles()},handleCurrentChange:function(e){this.paginationOptions.pageNo=e,this.queryRoles()}}},h=b,m=(i("9eee"),Object(u["a"])(h,n,r,!1,null,"1650461e",null));t["default"]=m.exports},e439:function(e,t,i){var n=i("23e7"),r=i("d039"),o=i("fc6a"),a=i("06cf").f,l=i("83ab"),s=r((function(){a(1)})),c=!l||s;n({target:"Object",stat:!0,forced:c,sham:!l},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},e538:function(e,t,i){var n=i("b622");t.f=n},f6da:function(e,t,i){}}]);